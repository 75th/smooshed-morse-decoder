!function(){"use strict";function n(n,r,t,e,o,i,a){try{var s=n[i](a),c=s.value}catch(n){return void t(n)}s.done?r(c):Promise.resolve(c).then(e,o)}function r(r){return function(){var t=this,e=arguments;return new Promise((function(o,i){var a=r.apply(t,e);function s(r){n(a,o,i,s,c,"next",r)}function c(r){n(a,o,i,s,c,"throw",r)}s(void 0)}))}}function t(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function e(n){for(var r={A:".-",a:".-",B:"-...",b:"-...",C:"-.-.",c:"-.-.",D:"-..",d:"-..",E:".",e:".",F:"..-.",f:"..-.",G:"--.",g:"--.",H:"....",h:"....",I:"..",i:"..",J:".---",j:".---",K:"-.-",k:"-.-",L:".-..",l:".-..",M:"--",m:"--",N:"-.",n:"-.",O:"---",o:"---",P:".--.",p:".--.",Q:"--.-",q:"--.-",R:".-.",r:".-.",S:"...",s:"...",T:"-",t:"-",U:"..-",u:"..-",V:"...-",v:"...-",W:".--",w:".--",X:"-..-",x:"-..-",Y:"-.--",y:"-.--",Z:"--..",z:"--..",0:"-----",",":"--..--",1:".----",".":".-.-.-",2:"..---","?":"..--..",3:"...--",";":"-.-.-.",4:"....-",":":"---...",5:".....","'":".----.",6:"-....","-":"-....-",7:"--...","/":"-..-.",8:"---..","(":"-.--.-",9:"----.",")":"-.--.-",_:"..--.-","+":".-.-."},t="",e=0;e<n.length;e++){var o=n.slice(e,e+1);o in r&&(t+=r[o])," "===o&&(t+=" ")}return t}function o(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function i(n,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return n&&r?n.slice(t,e).search(o(r)):-1}function a(n,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=i(n,r,e);return-1===o?t:(t.push(o+e),t=a(n,r,t,o+e+1))}function s(){return(s=r(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:Promise.all(r.map((function(n){return fetch("./words/".concat(n,".txt")).then((function(n){return n.text()}))}))).then((function(n){window.dispatchEvent(new CustomEvent("wordlistready",{detail:n.join("\n")}))}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function c(){!function(n){s.apply(this,arguments)}(["1","custom"])}window.addEventListener("wordlistready",(function(n){var r=function(n){for(var r={},t=n.length,e=0;e<t;e++)r[n[e]]={};return r}(n.detail.split("\n")),t=[new u((function(n){return e(n)}),"forward plaintext, forward morse"),new u((function(n){return e(n).reverse()}),"forward plaintext, backward morse"),new u((function(n){return e(n.reverse())}),"backward plaintext, forward morse"),new u((function(n){return e(n.reverse()).reverse()}),"backward plaintext, backward morse")],o=[new f("..-.---.-..-...--..--.-.--...--.-..-.-.---...--..-.--.-...--.-.---..-..--..-","dash at end"),new f("..-.---.-..-...--..--.-.--...--.-..-.-.---...--..-.--.-...--.-.---..-..--...","dot at end")];console.log("addTransformationsToWordList"),function(n,r){for(var t in n.length,n)for(var e in n[t].transformations={},r){var o=r[e];n[t].transformations[o.description]={morse:o.transform(t)}}}(r,t),console.log("addIndicesToWordList"),function(n,r){for(var t in n)for(var e in n[t].transformations){n[t].transformations[e].indices=[];for(var o=0;o<r.length;o++){var i=a(r[o].ciphertext,n[t].transformations[e].morse);n[t].transformations[e].indices.push(i)}}}(r,o)}));var u=function n(r,e){t(this,n),this.transform=r,this.description=e},f=function n(r,e){t(this,n),this.ciphertext=r,this.description=e};String.prototype.reverse||(String.prototype.reverse=function(){return this.split("").reverse().join("")}),c()}();
//# sourceMappingURL=morse-min.js.map